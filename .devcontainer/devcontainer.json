{
  "name": "cub3d-x11",
  "build": {
    "dockerfile": "Dockerfile"
  },
  "workspaceFolder": "/workspaces/cub3d",
  "containerEnv": {
    "DISPLAY": ":99",
    "LIBGL_ALWAYS_SOFTWARE": "1",
    "GALLIUM_DRIVER": "llvmpipe",
    "MESA_GL_VERSION_OVERRIDE": "3.3",
    "MESA_GLSL_VERSION_OVERRIDE": "330"
  },
  "runArgs": [
    "--ipc=host",
    "-p",
    "5900:5900"
  ],
  "forwardPorts": [
    5900
  ],
  "portsAttributes": {
    "5900": {
      "label": "VNC Server",
      "onAutoForward": "notify"
    }
  },
  "postCreateCommand": "bash .devcontainer/start-xvfb.sh && echo 'Xvfb started. Run .devcontainer/view-graphics.sh to start VNC server, then connect to localhost:5900' && lefthook install && echo 'Lefthook hooks installed successfully'",
  "postStartCommand": "bash .devcontainer/start-xvfb.sh"
}